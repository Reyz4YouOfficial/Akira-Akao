<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<title>Redeem Gift System - Premium UI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
 body{margin:0;background:#0c0c0f;color:white;font-family:Poppins, sans-serif;overflow-x:hidden}
 .logo{width:130px;display:block;margin:25px auto 5px auto;border-radius:15px;box-shadow:0 0 20px #0077ff80}
 .menu-btn{position:fixed;top:20px;left:20px;width:40px;height:35px;cursor:pointer;z-index:999}
 .menu-btn div{height:6px;background:white;margin:6px 0;border-radius:5px;transition:.3s}
 #sideMenu{position:fixed;top:0;left:-250px;width:230px;height:100%;background:#111;box-shadow:3px 0 10px rgba(0,0,0,.4);padding-top:60px;transition:.35s;z-index:9999}
 #sideMenu a{display:block;padding:15px;color:white;text-decoration:none;border-bottom:1px solid #222;transition:.2s}
 #sideMenu a:hover{background:#1a1a1a}
 .page{display:none;animation:fadeIn .5s}
 .active{display:block}
 @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
 .card{width:90%;max-width:480px;margin:10px auto;background:#141419;padding:25px;border-radius:20px;box-shadow:0 0 20px #0077ff30}
 input,select,textarea{width:100%;padding:12px;margin-top:10px;border-radius:10px;border:none;outline:none;background:#1a1b20;color:white}
 button{width:100%;padding:14px;background:#0077ff;border:none;margin-top:15px;border-radius:12px;color:white;font-weight:600;cursor:pointer;transition:.3s}
 button:hover{background:#005ad3}
 #notif{position:fixed;top:-60px;left:50%;transform:translateX(-50%);background:#0077ff;padding:13px 25px;border-radius:10px;font-weight:600;transition:.4s;z-index:99999}
 .editor-box{background:#0d1117;border:1px solid #30363d;padding:15px;border-radius:12px;margin-top:15px;font-family:"JetBrains Mono", monospace;font-size:14px;white-space:pre-wrap;max-height:300px;overflow:auto;line-height:1.4}
 .copy-btn{background:#30363d;padding:8px 16px;border-radius:8px;border:none;color:white;cursor:pointer;margin-top:10px;width:100%}
 .history-item{padding:12px;background:#1a1b20;margin-top:10px;border-radius:10px;border-left:4px solid #0077ff}
</style>
</head>
<body>
<div id="notif"></div>
<div class="menu-btn" onclick="toggleMenu()"><div></div><div></div><div></div></div>
<div id="sideMenu">
 <a onclick="showPage('redeem')">Tukar Hadiah</a>
 <a onclick="authCreate()">Create Code</a>
 <a onclick="showPage('history')">History Redeem</a>
</div>
<div id="redeem" class="page active">
 <img src="https://d.uguu.se/GmygWuVi.jpeg" class="logo">
 <div class="card">
  <h2 style="text-align:center;">Redeem Hadiah</h2>
  <input id="redeemCode" placeholder="Masukkan Kode Redeem">
  <button onclick="redeemGift()">Tukar</button>
  <div id="redeemResult"></div>
 </div>
</div>
<div id="create" class="page">
 <img src="https://d.uguu.se/GmygWuVi.jpeg" class="logo">
 <div class="card">
  <h2 style="text-align:center;">Create Code</h2>
  <input id="giftName" placeholder="Nama Hadiah">
  <label>Tipe Hadiah:</label>
  <select id="giftType" onchange="updateType()">
   <option value="text">Text</option>
   <option value="file">File</option>
  </select>
  <textarea id="giftText" placeholder="Isi hadiah text..." rows="5"></textarea>
  <input id="giftFile" type="file" style="display:none">
  <label>Maksimal Penukar:</label>
  <select id="giftMax"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option></select>
  <input id="giftCode" placeholder="Kode Redeem">
  <button onclick="createGift()">Create</button>
 </div>
</div>
<div id="history" class="page">
 <img src="https://d.uguu.se/GmygWuVi.jpeg" class="logo">
 <div class="card">
  <h2 style="text-align:center;">History Redeem</h2>
  <div id="historyList"></div>
 </div>
</div>
<script>
const ADMIN_PASS = "rey?dev";
function toggleMenu(){const m=document.getElementById("sideMenu");m.style.left=m.style.left=="0px"?"-250px":"0px";}
function showPage(p){document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));document.getElementById(p).classList.add('active');toggleMenu();if(p==='history')loadHistory();}
function notif(t,c="#0077ff"){let n=document.getElementById("notif");n.innerText=t;n.style.background=c;n.style.top="20px";setTimeout(()=>{n.style.top="-60px"},2000);} 
function authCreate(){let p=prompt("Masukkan Password Admin:");if(p===ADMIN_PASS){showPage('create');}else notif("Password salah!","red");}
function updateType(){let t=giftType.value;giftText.style.display=t==="text"?"block":"none";giftFile.style.display=t==="file"?"block":"none";}
function createGift(){let name=giftName.value.trim(),type=giftType.value,max=parseInt(giftMax.value),code=giftCode.value.trim();if(!name||!code){notif("Isi semua field!","red");return;}if(localStorage.getItem("gift_"+code)){notif("Kode sudah ada!","red");return;}if(type==="text"){if(!giftText.value){notif("Isi hadiah text!","red");return;}saveGift({name,type,content:giftText.value,max,used:0,filename:null});}else{let f=giftFile.files[0];if(!f){notif("Pilih file!","red");return;}let r=new FileReader();r.onload=()=>saveGift({name,type,content:r.result,max,used:0,filename:f.name});r.readAsDataURL(f);} }
function saveGift(o){let code=giftCode.value.trim();localStorage.setItem("gift_"+code,JSON.stringify(o));notif("Kode berhasil dibuat!");giftName.value="";giftText.value="";giftFile.value="";giftCode.value="";}
function redeemGift(){let code=redeemCode.value.trim(),box=redeemResult;box.innerHTML="";let d=localStorage.getItem("gift_"+code);if(!d){notif("Kode salah!","red");return;}let g=JSON.parse(d);if(g.used>=g.max){notif("Hadiah habis!","red");return;}g.used++;localStorage.setItem("gift_"+code,JSON.stringify(g));addHistory(code,g.name,g.type);
if(g.type==="text"){box.innerHTML=`<h3>${g.name}</h3><p>Tipe: TEXT</p><p>Sisa: ${g.max-g.used}/${g.max}</p><div class='editor-box' id='txtbox'>${g.content}</div><button class='copy-btn' onclick="copyText()">Copy</button>`;} else{box.innerHTML=`<h3>${g.name}</h3><p>Tipe: FILE</p><p>Sisa: ${g.max-g.used}/${g.max}</p><a href="${g.content}" download="${g.filename}"><button>Download File</button></a>`;}notif("Berhasil!");} 
function copyText(){navigator.clipboard.writeText(document.getElementById("txtbox").innerText);notif("Tersalin!");}
function addHistory(code,name,type){let h=JSON.parse(localStorage.getItem("history")||"[]");h.unshift({code,name,type,time:new Date().toLocaleString()});localStorage.setItem("history",JSON.stringify(h));}
function loadHistory(){let h=JSON.parse(localStorage.getItem("history")||"[]"),list=document.getElementById("historyList");list.innerHTML="";h.forEach(x=>{list.innerHTML+=`<div class='history-item'><b>${x.name}</b><br>Kode: ${x.code}<br>Tipe: ${x.type}<br><small>${x.time}</small></div>`});}
</script>
</body></html>
